#!/usr/bin/python3 -B

import os
import sys
from config import *
from graph import *
from component import *

print('Database directory:', os.path.expanduser(GRDB_DIR))

# Determine current graph and component number
glist = graphs_get_list()
gnolist = list(map(int, glist))
gno = min(gnolist or (-1))

clist = components_get_list(gno)
cnolist = list(map(int, clist))
cno = min(cnolist or (-1))

while True:
	if gno < 0 or cno < 0:
		line = input(PROMPT)
	else:
		line = input(str(gno) + '.' + str(cno) + '> ')

	argv = line.split()

	if len(argv) == 0:
		continue

	if argv[0] == 'quit':
		sys.exit(0)

	if argv[0] == 'clear':
		continue;

	if argv[0] == 'graph' or argv[0] == 'g':
		graph_command(argv)
		continue

	if argv[0] == 'component' or argv[0] == 'c':
		gno, cno = component_command(argv, gno, cno)
		continue
